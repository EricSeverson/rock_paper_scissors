<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
</head>
<body>
  <script>
    function computerPlay() {
        let compMove = Math.floor(Math.random() * 3);
        if (compMove == 0) {
            return 'Rock';
        } else if (compMove == 1) {
            return 'Paper';
        }
        return 'Scissors';
    }

    function playRound(playerSelection, computerSelection) {
        playerSelection = playerSelection.toLowerCase();
        playerSelection = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1);

        if (playerSelection == "Rock") {
            return (computerSelection == "Rock") ? draw() : 
                    (computerSelection == "Paper") ? lose() : win();
        } else if (playerSelection == "Paper") {
            return (computerSelection == "Rock") ? win() : 
                    (computerSelection == "Paper") ? draw() : lose();
        } else if (playerSelection == "Scissors"){
            return (computerSelection == "Rock") ? lose() : 
                    (computerSelection == "Paper") ? win() : draw();
        } else {
            return "typo";
        }
    }

    function draw() {
        return "draw";
    }

    function win() {
        return "win";
    }

    function lose() {
        return "lose";
    }

    function game() {
        let playerScore = 0;
        let computerScore = 0;
        for (let i = 0; i < 5; i++) {
            let roundWin = playRound(prompt("Rock, Paper, or Scissors?"), computerPlay());
            playerScore = (roundWin == "win") ? ++playerScore : playerScore;
            computerScore = (roundWin == "lose") ? ++computerScore : computerScore;
            if (roundWin == "typo") {
                i--;
                console.log("I dont understand that. Please type Rock, Paper, or Scissors.");
            }
            
            console.log("Current Score. Player: " + playerScore + " Computer: " + computerScore);
        }
        if (playerScore > computerScore) {
            console.log("Congrats you won!");
        } else if (playerScore < computerScore) {
            console.log("You lost. Better luck next time!");
        } else {
            console.log("It's a draw.");
        }
    }
    game();
  </script>
</body>
</html>
